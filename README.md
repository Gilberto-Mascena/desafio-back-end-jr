[English](https://github.com/Gilberto-Mascena/desafio-back-end-jr/blob/main/README.md) | [Português Brasileiro](https://github.com/Gilberto-Mascena/desafio-back-end-jr/blob/main/README-pt_br.md)

[![Status de Manutenção](https://img.shields.io/badge/Maintained-Yes-brightgreen?style=for-the-badge)](https://GitHub.com/Gilberto-Mascena/desafio-back-end-jr)
[![GitHub Actions Status](https://img.shields.io/github/actions/workflow/status/Gilberto-Mascena/desafio-back-end-jr/build.yml?style=for-the-badge)](https://github.com/Gilberto-Mascena/desafio-back-end-jr/actions)
[![Licença](https://img.shields.io/github/license/Gilberto-Mascena/desafio-back-end-jr?style=for-the-badge)](https://github.com/Gilberto-Mascena/desafio-back-end-jr/blob/main/LICENSE.md)
[![Estrelas no GitHub](https://img.shields.io/github/stars/Gilberto-Mascena/desafio-back-end-jr?style=for-the-badge)](https://github.com/Gilberto-Mascena/desafio-back-end-jr/stargazers)
[![Problemas no GitHub](https://img.shields.io/github/issues/Gilberto-Mascena/desafio-back-end-jr?style=for-the-badge)](https://github.com/Gilberto-Mascena/desafio-back-end-jr/issues)
[![Versão do Repositório](https://img.shields.io/github/v/release/Gilberto-Mascena/desafio-back-end-jr?include_prereleases&style=for-the-badge)](https://github.com/Gilberto-Mascena/desafio-back-end-jr/releases)
![Data de Lançamento](https://img.shields.io/github/release-date/Gilberto-Mascena/desafio-back-end-jr?style=for-the-badge)
![Tamanho do Repositório](https://img.shields.io/github/repo-size/Gilberto-Mascena/desafio-back-end-jr?style=for-the-badge)

# Task CRUD (TODO List API)

This project implements a complete RESTful API for managing tasks (TODOs), following the best practices for development with Spring Boot. The API allows you to create, list, search by ID, update and delete tasks, using DTOs (Data Transfer Objects) for data input and output, and a global exception handler for standardized error responses.

## Technologies Used

* **Java 17+**
* **Spring Boot 3.5.0**
* **Spring Data JPA**
* **Hibernate**
* **H2 Database** (for development and testing - in-memory database)
* **Jakarta Validation (Bean Validation)**
* **Maven** (dependency manager)

## API Features

The API offers the following endpoints:

* **`POST /todos`**: Creates a new task.
* **`GET /todos`**: Lists all existing tasks.
* **`GET /todos/{id}`**: Searches for a specific task by ID.
* **`PUT /todos/{id}`**: Updates an existing task by ID.
* **`DELETE /todos/{id}`**: Deletes a task by ID.

### Project Structure

``` text
src/
├── main/
│ ├── java/
│ │ └── br/com/mascenadev/crud/
│ │ ├── config/ # Swagger Configuration
│ │ ├── controller/ # REST Controllers
│ │ ├── dtos/ # Data Transfer Objects (DTOs)
│ │ ├── model/ # JPA Entities
│ │ ├── exception/ # Custom Exceptions
│ │ ├── repository/ # JPA Repositories
│ │ ├── service/ # Business services
│ │ └── CrudApplication.java # Main class
│ └── resources/
│ └── static/ # Static resources (HTML, CSS, JS)
│ └── templates/ # Thymeleaf templates (if needed)
│ ├── application.yml # Spring Boot configuration
│ └── application.dev.yml # Spring Boot configuration
│ └── application.prod.yml # Spring Boot configuration
│ ├── application-test.yml # Test-specific configuration
├── test/
│ ├── java/
│ └── br/com/mascenadev/crud/
│ └── CrudApplicationTests.java # Unit tests
│── target/ # Directory generated by Maven with the compiled artifacts
├── .gitatributes # Git configurations
├── .gitignore # File to ignore files/directories in Git
├── HELP.md # Project help documentation
├── mvnw # Script to run Maven
├── mvnw.cmd # Script to run Maven on Windows
├── pom.xml # Maven configuration file
├── README.md # Documentation of the project
├── README-pt_br.md # Project Documentation
```

## How to Run the Project

### Prerequisites

* Java Development Kit (JDK) 17 or higher installed.
* Maven installed.
* (Optional) An IDE such as IntelliJ IDEA, Eclipse or VS Code.

### Steps

1. **Clone the Repository:**
```bash
    git clone git@github.com:Gilberto-Mascena/desafio-back-end-jr.git
    cd desafio-back-end-jr
```

2. **Install Dependencies:**
```bash
    mvn clean install
```

3. **Run the Application:**
```bash
    mvn spring-boot:run
```
The application will be started at the address: http://localhost:8080.

## H2 Database (In-Memory)

The project uses the H2 Database in-memory by default to facilitate development. This means that data is
lost every time the application is restarted.

You can access the H2 console at: http://localhost:8080/h2-console

* **JDBC URL:** `jdbc:h2:mem:devdb`
* **User Name:** `sa`
* **Password:** (leave blank)

---

- Use the Browser or Postman to test the application
- Access the endpoint: http://localhost:8080/swagger-ui/index.html, to
  learn about the mapped routes and how to use them in the Swagger documentation

---

## How to Use the API (with Postman)

To facilitate interaction with the API, you can import the `collection.json` provided in Postman.

### Importing the Collection in Postman

1. Open Postman.
2. Click on `File` > `Import` (or the `Import` button in the interface).
3. Select the `Upload Files` option and choose the [Collection.json](/doc/imgs/crud_api_postman_collection.json) file.
4. The collection will be imported with all the requests ready for use.

### Request Examples (HTTP)

#### 1. Create a Task (POST)

* **URL:** `http://localhost:8080/todos`
* **Method:** `POST`
* **Headers:**
* `Content-Type: application/json`
* **Body (raw, JSON):**
```json
{
    "title": "Learn Spring Boot",
    "description": "Study the official documentation and practice with projects",
    "done": false,
    "priority": 5
}
```

#### 2. List All Tasks (GET)

* **URL:** `http://localhost:8080/todos`
* **Method:** `GET`

#### 3. Search for Task by ID (GET)

* **URL:** `http://localhost:8080/todos/{task_id}` (ex: `http://localhost:8080/todos/1`)
* **Method:** `GET`

#### 4. Update Task by ID (PUT)

* **URL:** `http://localhost:8080/todos/{id_da_Tarefa}` (ex: `http://localhost:8080/todos/1`)
* **Method:** `PUT`
* **Headers:**
* `Content-Type: application/json`
* **Body (raw, JSON):**
```json
{
    "title": "Finalize Task CRUD",
    "description": "Implement and test all API endpoints with DTOs and error handling.",
    "done": true,
    "priority": 1
}
```

#### 5. Delete Task by ID (DELETE)

* **URL:** `http://localhost:8080/todos/{id_da_Tarefa}` (ex: `http://localhost:8080/todos/1`)
* **Method:** `DELETE`

## Error Handling

The API has a global error handling that standardizes responses in case of failures:

* **400 Bad Request**: Validation errors in the request fields.
```json
{
    "timestamp": "2024-06-11T10:00:00",
    "status": 400,
    "error": "Validation error in the submitted fields",
    "details": {
    "titulo": "Tílo must have between 2 and 100 characters"
    }
}
```
* **404 Not Found**: Resource not found (ex: task with non-existent ID).
```json
{
    "timestamp": "2024-06-11T10:00:00",
    "status": 404,
    "error": "Todo not found",
    "details": "Todo with ID 123 was not found"
}
```
* **500 Internal Server Error**: An unexpected internal server error occurred.
```json
{
    "timestamp": "2024-06-11T10:00:00",
    "status": 500,
    "error": "Internal server error",
    "details": "An unexpected error occurred. Please try again later."
}
```

## Contribution

Feel free to contribute improvements, bug fixes or new features.

## *License*

*The* [*MIT License*](LICENSE.md) (*MIT*)

### _Gilberto | Dev 2024_